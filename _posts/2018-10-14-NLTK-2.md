---
layout: post
title: "NLTK学习笔记_2"
description: "自然语言处理库NLTK"
categories: [笔记]
tags: [计算机,自然语言处理,Python]
redirect_from:
  -/2018/10/14/
---

# NLTK学习笔记_2

* Kramdown table of contents
{:toc .toc}

## NLTK 中的语料库

作为自然处理工具，NLTK[^1] 提供了大量的语料资源以及处理语料资源的接口，每个语料库中都包含着许多文件，都保存在 nltk_data/corpora 文件夹下，想要下载 NLTK 提供的语料资源，只需在 python 交互界面输入如下的语句

```py
>>> import nltk
>>> nltk.download()
```

NLTK 的 corpus 模块下提供了许多 reader 类用以读取语料资源并提供接口获得不同处理的语料，下将简单介绍几个在简单的文本处理中会接触到的类

### CorpusReader

[nltk.corpus.reader.CorpusReader][CorpusReader] 是所有 reader 类的基类，为语料读取提供了一些基本的方法。在语料库中的每个文件都有一个独一无二的 **fileid** 属性，这一属性也将在多个方法的参数中出现。以下是 CorpusReader 类定义的所有 reader 类都支持的方法

|方法|说明|
|:-|:-|
|[fileids()][fileids_1]|返回一个列表，包含了这个语料库中所有文件的 fileid|
|[abspath(fileid)][abspath]|将返回指定 fileid 的文件的绝对路径|
|[citation()][citation]|返回这个语料库的 citation.bib 文件（如果存在的话）|
|[license()][license]|返回这个语料库的 LICENSE 文件（如果存在的话）|
|[readme()][readme]|返回这个语料库的 README 文件（如果存在的话）|
|[root][root]|返回该语料库的根目录|

### Categorized

在类名中带有 Categorized 字样的 reader 类继承了 [nltk.corpus.reader.CategorizedCorpusReader][Categorized] 类，实现了其中的方法。这些类中的语料按照主题进行了分类。

[categories(fileids=None)][categories] 方法返回一个包含了语料库中所有主题的列表，如果指定了 fileids 参数（可以是一个字符串，也可以是一个字符串列表组成的 fileids 列表）则返回指定 fileids 的主题

[fileids(categories=None)][fileids_2] 方法返回一个包含了语料库中所有 fileids 的列表，如果指定了 categories 参数（可以是一个字符串，也可以是一个字符串列表组成的 categories 列表）则返回指定 categories 的 fileids

继承了该类的类中可以传入 fileids 参数的方法现在也可传入 categories 参数

### PlainText

[nltk.corpus.reader.PlaintextCorpusReader][PlainText] 类及其相关的类用于基本的纯文本语料库处理，这些类提供了一些方法用于获得不同格式的语料

|方法|说明|
|:-|:-|
|[raw(fileids=None)][raw]|返回原始的文本（以字符串格式）|
|[words(fileids=None)][words]|返回一个单词（字符串）的列表，分词器使用默认的分词器或在构造时作为参数传入|
|[sents(fileids=None)][sents]|返回一个句子的列表，每一个句子本身也是一个单词的列表|
|[paras(fileids=None)][paras]|返回一个段落的列表，段落本身也是一个句子的列表，默认使用空行分割段落|

以上的所有方法都可传入 fileids 参数（以及某些情况下，categories 参数）以获得指定文本的语料，若无参数则默认返回的语料基于该语料库下的所有文件。

### Tagged

[nltk.corpus.reader.TaggedCorpusReader][Tagged] 类处理具有词性标记过的文本，该类有三个特殊的方法：

* [tagged_words(fileids=None, tagset=None)][t_words]
* [tagged_sents(fileids=None, tagset=None)][t_sents]
* [tagged_paras(fileids=None, tagset=None)][t_paras]

这些方法的返回格式与 words，sents，paras 等方法的返回形式相同，唯一的区别在于返回的单词不是字符串，而是一个包含了（单词，标记）的元祖

### WordList

[nltk.corpus.reader.wordlist.WordListCorpusReader][WordList] 类是处理单词列表的类，这个类并没有特殊的方法，但在 corpus 模块中有一些重要的语料库便是基于此类，如 names，包含 8000 个按性别分类的名字。男性和女性的名字存储在单独的文件中。还有 stopwords，包含了英语中的停止词，如 a，the 等，这些词对语义没有影响，却会影响文本分析的结果，在处理原始文本时将停止词从语料中除去可提高文本处理的效果。

### 其余 reader 类

在 corpus 模块中还有许多为特定语料库编写的接口类，这些语料库的内容一般不是普通的文本。

CMU 发音词典类 [nltk.corpus.reader.CMUDictCorpusReader][cmu]，该语料库是一个收录了英文单词与其发音的词典，具有两个独特的方法。[dict()][dict] 返回一个 python 的词典，键为单词而值为发音，而[entries()][entries] 方法返回一个由词典中的条目组成的列表（多数词典类 reader 均有此方法），每个条目都是一个包含了单词与发音的元祖。

[nltk.corpus.reader.WordNetCorpusReader][wordnet] 类提供了一个 wordnet 类型类语料库的接口，关于这个类型的语料将在之后的笔记中详细介绍。

更多的 reader 类可以参见[nltk.corpus.reader package — NLTK 3.3 documentation][reader]

## 条件频率分布

条件频率分布不单单是统计样本出现的频率，还要为样本关联一个条件，[nltk.probability.ConditionalFreqDist(cond_samples=None)][ConditionalFreqDist] 类与之前的 FreqDist 类类似，只不过**构造时的传入的参数不是样本的列表，而是（条件，样本）的元祖的列表**，生成的 ConditionalFreqDist 类是 FreqDist 类的集合，每个 FreqDist 对应一种条件。

ConditionalFreqDist 类中有以下几个重要方法

### ConditionalFreqDist.plot

[plot(\*args, \*\*kwargs)][cfd_plot] 可以绘出条件频率分布的图表，**需要 Matplotlib 库**

* \*\*kwargs:cumulative(bool):频率是否累积计数
* \*\*kwargs:title(str):图表的标题，无此参数则无标题
* \*\*kwargs:samples(list):绘图时包含的样本
* \*\*kwargs:conditions(list):绘图时包含的情况，默认为全部条件

### ConditionalFreqDist.tabulate

[tabulate(\*args, \*\*kwargs)][tabulate] 以表格的形式展现条件频率分布

* \*\*kwargs:cumulative(bool):频率是否累积计数
* \*\*kwargs:samples(list):列表时包含的样本
* \*\*kwargs:conditions(list):列表时包含的情况，默认为全部条件

### 其余方法

[N()][N] 返回所有样本出现次数的总和

[conditions()][conditions] 返回该条件频率分布的所有条件的列表

## Reference

* [NLTK Book](http://www.nltk.org/book/)
* [nltk Package — NLTK 3.3 documentation](http://www.nltk.org/api/nltk.html)

[^1]:["Natural Language Toolkit — NLTK 3.3 documentation"](https://www.nltk.org/)

[CorpusReader]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader
[abspath]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.abspath
[citation]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.citation
[fileids_1]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.fileids
[license]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.license
[readme]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.readme
[root]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CorpusReader.root
[Categorized]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CategorizedCorpusReader
[categories]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CategorizedCorpusReader.categories
[fileids_2]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CategorizedCorpusReader.fileids
[PlainText]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.PlaintextCorpusReader
[raw]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.PlaintextCorpusReader.raw
[words]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.PlaintextCorpusReader.words
[sents]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.PlaintextCorpusReader.sents
[paras]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.PlaintextCorpusReader.paras
[Tagged]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.TaggedCorpusReader
[t_words]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.TaggedCorpusReader.tagged_words
[t_sents]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.TaggedCorpusReader.tagged_sents
[t_paras]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.TaggedCorpusReader.tagged_paras
[cmu]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CMUDictCorpusReader
[dict]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CMUDictCorpusReader.dict
[entries]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.CMUDictCorpusReader.entries
[WordList]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.wordlist.WordListCorpusReader
[wordnet]:https://www.nltk.org/api/nltk.corpus.reader.html#nltk.corpus.reader.WordNetCorpusReader
[ConditionalFreqDist]:https://www.nltk.org/api/nltk.html#nltk.probability.ConditionalFreqDist
[cfd_plot]:https://www.nltk.org/api/nltk.html#nltk.probability.ConditionalFreqDist.plot
[tabulate]:https://www.nltk.org/api/nltk.html#nltk.probability.ConditionalFreqDist.tabulate
[N]:https://www.nltk.org/api/nltk.html#nltk.probability.ConditionalFreqDist.N
[conditions]:https://www.nltk.org/api/nltk.html#nltk.probability.ConditionalFreqDist.conditions
[reader]:https://www.nltk.org/api/nltk.corpus.reader.html#id5